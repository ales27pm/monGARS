# Cognition Engine Protocol

> âš ï¸ Auto-generated by `scripts/manage_agents.py`. Update `configs/agents/agents_config.json` and rerun the script instead of editing this file manually.

## Scope

Guides orchestrators, schedulers, and memory abstractions under `monGARS/core/`.

## Automation

- Sourced from the central JSON profile; run the refresh command after substantial engine work.

## Roadmap Alignment

- **Performance & Resilience**
  - âœ… Worker auto-tuning for Pi/Jetson (`recommended_worker_count`).
  - âœ… Multi-architecture build scripts and cache metrics.
  - âœ… Hardened RBAC manifests.
  - âœ… Ray Serve HTTP integration with circuit breaking plus MNTP trainer support for LoRA and curated adapters.
  - âœ… Extend Alembic migrations for the newest SQLModel tables, including legacy tables created outside the current ORM layer.
  - âœ… Expose Ray Serve success/failure counters via OpenTelemetry (`llm.ray.*` metrics emitted by `LLMIntegration`).
- **Self-Improvement**
  - âœ… Personality profiles persisted via SQLModel with live adapter updates.
  - âœ… Self-training cycles produce real adapter artefacts via `modules.neurons.training.mntp_trainer.MNTPTrainer` with deterministic fallbacks.
  - âœ… Reinforcement-learning research loops run through the evolution orchestrator, operator approvals, and long-haul validator with telemetry and manifest updates.ã€F:modules/evolution_engine/orchestrator.pyâ€ L360-L440ã€‘ã€F:monGARS/core/long_haul_validation.pyâ€ L1-L220ã€‘
  - ğŸ”„ Expand tests and dashboards for long-running MNTP jobs, multi-replica Ray Serve rollouts, and energy telemetry correlation across distributed workflows.ã€F:tests/test_long_haul_validation.pyâ€ L1-L220ã€‘ã€F:monGARS/core/long_haul_validation.pyâ€ L156-L226ã€‘

## Architectural Principles

- Keep orchestrators thin and asynchronous; inject collaborators and avoid module-level singletons.
- Prefer existing services (`Hippocampus`, `PersistenceRepository`, `DistributedScheduler`,
    `PeerCommunicator`) before inventing new state machines.
- Document new behaviours and heuristics in module docstrings.

## Operational Discipline

- Wrap blocking work with `asyncio.to_thread` or queue it on executors.
- Publish counters/metrics for long-running loops and redact sensitive identifiers in logs.
- Handle optional ML dependencies defensively with explicit fallbacks.

## Test Coverage

Expand cognition suites when behaviour shiftsâ€”`tests/test_hippocampus.py`,
`tests/test_personality.py`, `tests/test_mimicry.py`, and scheduler/evolution tests anchor this
area.

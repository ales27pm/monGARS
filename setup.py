from pathlib import Path

from setuptools import find_packages, setup

HERE = Path(__file__).parent.resolve()
LLM2VEC_URI = (HERE / "vendor" / "llm2vec_monGARS").as_uri()

setup(
    name="monGARS",
    version="0.1.0",
    packages=find_packages(),
    install_requires=[
        "aiocache>=0.12.3",
        "APScheduler>=3.11.0",
        "asyncpg>=0.30.0",
        "beautifulsoup4>=4.13.4",
        "bleach>=6.2.0",
        "boto3>=1.35.44",
        "django>=5.2",
        "datasets>=3.4.1,<5.0.0",
        "datasketch>=1.5.9",
        "fastapi>=0.116",
        "flask>=3.1.1",
        "python-multipart>=0.0.20",
        "GPUtil>=1.4.0",
        "httpx>=0.28.1",
        "hvac>=2.3.0",
        "ollama>=0.5.1",
        "opentelemetry-sdk>=1.35.0",
        "opentelemetry-exporter-otlp>=1.35.0",
        "cachetools>=5.3.3",
        "passlib[bcrypt]>=1.7.4",
        "pgvector>=0.4.1",
        "celery>=5.3,<6.0",
        "redis>=5.0,<6.0",
        "channels>=4.0,<5.0",
        "pillow>=11.3.0",
        "psutil>=7.0.0",
        "numpy>=1.26.4",
        "python-jose>=3.5.0",
        "pydantic>=2.11.7",
        "pydantic-settings>=2.10.1",
        "ray[serve]>=2.48.0",
        "spacy>=3.8.7",
        "sqlalchemy>=2.0.41",
        "tenacity>=9.1.2",
        "torch>=2.7.1",
        "tqdm>=4.66.5",
        "transformers>=4.45.0",
        "trafilatura>=2.0.0",
        "uvicorn>=0.35.0",
        f"llm2vec @ {LLM2VEC_URI}",
        "cryptography>=45.0.5",
        "durationpy>=0.5,<1.0",
        "kubernetes>=8.0.2,<10.0.0",
        "oauthlib>=3.3.1",
        "requests-oauthlib>=2.0.0",
        "websocket-client>=1.8.0",
        "websockets>=12.0",
    ],
    extras_require={
        "grpo": [
            "trl>=0.23.1",
            "vllm>=0.4.2,<0.5",
        ],
    },
)

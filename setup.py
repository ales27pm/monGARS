from pathlib import Path

from setuptools import find_packages, setup

HERE = Path(__file__).parent.resolve()
LLM2VEC_URI = (HERE / "vendor" / "llm2vec_monGARS").as_uri()

setup(
    name="monGARS",
    version="0.1.0",
    packages=find_packages(),
    install_requires=[
        "aiocache==0.12.3",
        "APScheduler==3.11.1",
        "asyncpg==0.31.0",
        "beautifulsoup4==4.14.2",
        "soupsieve==2.8",
        "bleach==6.3.0",
        "boto3==1.41.5",
        "django==5.2.8",
        "datasets==4.4.1",
        "datasketch==1.8.0",
        "fastapi==0.122.0",
        "flask==3.1.2",
        "slowapi==0.1.9",
        "python-multipart==0.0.20",
        "python-dotenv==1.2.1",
        "pyyaml==6.0.3",
        "GPUtil==1.4.0",
        "httpx==0.28.1",
        "feedparser==6.0.12",
        "hvac==2.4.0",
        "ollama==0.6.1",
        "opentelemetry-sdk==1.38.0",
        "opentelemetry-exporter-otlp==1.38.0",
        "opentelemetry-exporter-prometheus==0.59b0",
        "opentelemetry-instrumentation-fastapi==0.59b0",
        "prometheus-client==0.23.1",
        "cachetools==6.2.2",
        "passlib[bcrypt]==1.7.4",
        "pgvector==0.4.1",
        "celery==5.5.3",
        "redis==7.1.0",
        "pillow==12.0.0",
        "psutil==7.1.3",
        "numpy==1.26.4",
        "python-jose==3.5.0",
        "pydantic==2.12.5",
        "pydantic-settings==2.12.0",
        "ray[serve]==2.52.1",
        "spacy==3.8.11",
        "sqlalchemy==2.0.44",
        "tenacity==9.1.2",
        "torch==2.6.0",
        "tqdm==4.67.1",
        "transformers==4.57.3",
        "sentence-transformers==5.1.2",
        "peft==0.18.0",
        "accelerate==1.12.0",
        "autoawq==0.2.9",
        "git+https://github.com/unslothai/unsloth.git@39f006bde8a9f4a4081f579308b7f5dea472379a",
        "unsloth_zoo==2025.11.5",
        "trafilatura==2.0.0",
        "uvicorn==0.38.0",
        f"llm2vec @ {LLM2VEC_URI}",
        "cryptography==46.0.3",
        "durationpy==0.10",
        "kubernetes==9.0.1",
        "oauthlib==3.3.1",
        "requests-oauthlib==2.0.0",
        "websocket-client==1.9.0",
        "websockets==15.0.1",
        "alembic==1.17.2",
        "psycopg[binary]==3.2.13",
    ],
    extras_require={
        "grpo": [
            "trl==0.25.1",
            "vllm==0.11.0",
        ],
        "test": [
            "pytest==9.0.1",
            "pytest-asyncio==0.24.0",
            "coverage[toml]==7.12.0",
        ],
    },
)

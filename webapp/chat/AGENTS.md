# Chat Interface Standards

> ‚ö†Ô∏è Auto-generated by `scripts/manage_agents.py`. Update `configs/agents/agents_config.json` and rerun the script instead of editing this file manually.

## Scope

Covers views, services, forms, and templates for `webapp/chat/`.

## Automation

- Managed through the central JSON profile.

## Roadmap Alignment

- **Chat UX Alignment**
  - ‚úÖ FastAPI chat/history/token endpoints with validation.
  - ‚úÖ Django chat UI with progressive enhancement.
  - ‚úÖ FastAPI WebSocket handler with ticket verification, history replay, and streaming guarded by `WS_ENABLE_EVENTS`.
  - üîÑ Replace hard-coded credential stores with database-backed auth flows.
  - üöß Publish polished SDKs and reference clients.

## Architecture

- Route logic through `services.py` and wrap protected views with `require_token`.
- Mirror payloads defined in `monGARS.api.web_api.ChatRequest`; document new context variables in
    docstrings/templates.

## Networking & Error Handling

- Centralise HTTP calls in `services.py` to reuse retries, error handling, and logging.
- Surface actionable operator errors for network issues and capture exceptions with context.

## Verification

Revise `tests/test_api_history.py` and `tests/test_websocket.py` alongside chat changes; rely on
async clients or httpx mocks.
